storage:
  type: postgres
  path: "postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?sslmode=disable"

ui:
  link: "https://how.workbench.web.id"
  buttons:
    - name: "Logout"
      link: "${OIDC_ISSUER_URL}/api/oidc/end-session"
  custom-css: |
    /* Retro CRT Terminal Style - Cyan #01adff accents */
    @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

    #global {
      background-color: #000000;
      color: #01adff;
      font-family: 'VT323', monospace; /* Classic retro pixel font */
      font-size: 1.2rem;
      text-shadow: 0 0 8px #01adff, 0 0 16px #0187cc; /* Phosphor glow */
    }

    body, html {
      background: #000000;
      overflow-x: hidden;
    }

    /* CRT scanlines + subtle flicker */
    .dashboard-container::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      background: 
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent 2px,
          rgba(0, 0, 0, 0.4) 2px,
          rgba(0, 0, 0, 0.4) 4px
        ),
        linear-gradient(
          90deg,
          rgba(1, 173, 255, 0.03) 0%,
          rgba(1, 173, 255, 0.01) 50%,
          rgba(1, 173, 255, 0.03) 100%
        );
      background-size: 100% 4px, 100% 100%;
      animation: flicker 10s infinite alternate, scan 60s linear infinite;
      z-index: 9999;
      mix-blend-mode: overlay;
    }

    @keyframes flicker {
      0%, 100% { opacity: 0.12; }
      50% { opacity: 0.18; }
    }

    @keyframes scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }

    /* Cards / endpoints look like old terminal windows */
    .endpoint, .endpoint-group {
      background-color: #0a0a0a;
      border: 2px solid #01adff;
      border-radius: 0; /* Sharp edges for retro */
      box-shadow: 
        inset 0 0 20px rgba(1, 173, 255, 0.15),
        0 0 20px rgba(1, 173, 255, 0.3);
      margin: 1rem 0;
      padding: 1rem;
    }

    .endpoint-header, .endpoint-group-header {
      background-color: #001122;
      color: #01adff;
      border-bottom: 2px solid #01adff;
      text-shadow: 0 0 6px #01adff;
      font-weight: normal;
    }

    /* Status indicators - glowing cyan for UP, red/orange for DOWN */
    .status-up, .badge-up {
      background-color: #01adff !important;
      color: #000000 !important;
      box-shadow: 0 0 12px #01adff, 0 0 24px #01adff;
      text-shadow: 0 0 8px #ffffff;
    }

    .status-down, .badge-down {
      background-color: #ff2a6d !important; /* Retro pink/red for errors */
      color: #ffffff !important;
      box-shadow: 0 0 12px #ff2a6d;
    }

    .status-issue, .badge-issue {
      background-color: #ffaa00 !important;
      color: #000000 !important;
      box-shadow: 0 0 12px #ffaa00;
    }

    /* Links and hover effects */
    a, a:hover, a:focus {
      color: #01adff;
      text-shadow: 0 0 6px #01adff;
    }

    a:hover {
      color: #4dc3ff;
      text-shadow: 0 0 10px #4dc3ff;
    }

    /* Progress bars / healthy */
    .progress-bar-success {
      background-color: #01adff;
      box-shadow: 0 0 10px #01adff;
    }

    /* Optional subtle screen curvature illusion */
    .dashboard-container {
      background-color: #000000;
      border-radius: 0;
      position: relative;
      overflow: hidden;
    }

    .dashboard-container::after {
      content: "";
      position: absolute;
      inset: -10%;
      border-radius: 50%;
      box-shadow: inset 0 0 120px rgba(0,0,0,0.8);
      pointer-events: none;
      z-index: 1;
    }

alerting:
  ntfy:
    topic: ${NTFY_TOPIC}
    url: ${NTFY_URL}
    token: ${NTFY_TOKEN}
    click: "https://how.workbench.web.id"
    disable-firebase: true
    default-alert:
      description: "Health check failed"
      send-on-resolved: true
      failure-threshold: 3
      success-threshold: 3

security:
  oidc:
    issuer-url: ${OIDC_ISSUER_URL}
    redirect-url: ${OIDC_REDIRECT_URL}
    client-id: ${OIDC_CLIENT_ID}
    client-secret: ${OIDC_CLIENT_SECRET}
    scopes: ["openid", "email", "profile", "groups"]
    session-ttl: 8h